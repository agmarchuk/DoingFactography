@page "/combine"
@using RDFEngine
@using System.Xml.Linq

<h3>Combine</h3>
<div>@(nall) records</div>
<div>@(npersons) persons</div>
<div>@(norgsys) org systems</div>
<div>@(ndocuments) documents</div>
<div>@(nphotos) photos</div>
<div>@(nvideo) video</div>

@code {

    private string typ = "http://fogid.net/o/person";
    private RRecord[] relements;
    private int nall, npersons, norgsys, ndocuments, nphotos, nvideo;
    protected override void OnParametersSet()
    {
        var rels = (new RXEngine()).RAll();
        foreach (var el in rels)
        {
            nall += 1;
            if (el.Tp == "http://fogid.net/o/person") { npersons += 1; }
            else if (el.Tp == "http://fogid.net/o/org-sys") { norgsys += 1; }
            else if (el.Tp == "http://fogid.net/o/document") { ndocuments += 1; }
            else if (el.Tp == "http://fogid.net/o/photo-doc") { nphotos += 1; }
            else if (el.Tp == "http://fogid.net/o/video-doc") { nvideo += 1; }

        }
    }
}
